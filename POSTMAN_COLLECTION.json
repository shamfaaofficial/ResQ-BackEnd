{
  "info": {
    "name": "RESQ Backend API",
    "description": "Complete API collection for RESQ Tow Car Service Platform",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api/v1",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "User Signup (Send OTP)",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/user/signup",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+97431234567\"\n}"
            }
          }
        },
        {
          "name": "User Verify OTP",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/user/verify-otp",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+97431234567\",\n  \"otp\": \"123456\",\n  \"username\": \"johndoe\",\n  \"password\": \"Pass@1234\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john@example.com\"\n}"
            }
          }
        },
        {
          "name": "User Login",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/user/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"johndoe\",\n  \"password\": \"Pass@1234\"\n}"
            }
          }
        },
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/admin/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"Admin@12345\"\n}"
            }
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/auth/user/refresh-token",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/auth/logout"
          }
        }
      ]
    },
    {
      "name": "User",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/user/profile"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/user/profile",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Updated\",\n  \"email\": \"john.updated@example.com\"\n}"
            }
          }
        },
        {
          "name": "Search Drivers",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/user/booking/search-drivers",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vehicleType\": \"sedan\",\n  \"pickupLocation\": {\n    \"latitude\": 25.2854,\n    \"longitude\": 51.5310\n  },\n  \"searchRadius\": 10\n}"
            }
          }
        },
        {
          "name": "Create Booking",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/user/booking/request",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vehicleType\": \"sedan\",\n  \"pickupLocation\": {\n    \"latitude\": 25.2854,\n    \"longitude\": 51.5310,\n    \"address\": \"The Pearl Qatar\",\n    \"placeName\": \"The Pearl\"\n  },\n  \"dropoffLocation\": {\n    \"latitude\": 25.3548,\n    \"longitude\": 51.1839,\n    \"address\": \"Lusail City\",\n    \"placeName\": \"Lusail\"\n  },\n  \"notes\": \"Red Toyota Camry\"\n}"
            }
          }
        },
        {
          "name": "Get Booking History",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/user/bookings/history?page=1&limit=10"
          }
        }
      ]
    },
    {
      "name": "Driver",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/driver/profile"
          }
        },
        {
          "name": "Toggle Online Status",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/driver/status",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isOnline\": true\n}"
            }
          }
        },
        {
          "name": "Update Location",
          "request": {
            "method": "PUT",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/driver/location",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": 25.2854,\n  \"longitude\": 51.5310,\n  \"address\": \"Doha, Qatar\"\n}"
            }
          }
        },
        {
          "name": "Get Incoming Bookings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/driver/bookings/incoming"
          }
        },
        {
          "name": "Accept Booking",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/driver/bookings/:bookingId/accept"
          }
        },
        {
          "name": "Get Earnings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/driver/earnings"
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/dashboard/stats"
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/users?page=1&limit=10"
          }
        },
        {
          "name": "Get All Drivers",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/drivers?page=1&limit=10&approvalStatus=pending"
          }
        },
        {
          "name": "Approve Driver",
          "request": {
            "method": "PUT",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/drivers/:driverId/approve"
          }
        },
        {
          "name": "Get All Bookings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/bookings?page=1&limit=10"
          }
        },
        {
          "name": "Get Pricing Configs",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{accessToken}}"}],
            "url": "{{baseUrl}}/admin/pricing"
          }
        },
        {
          "name": "Create Pricing",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{accessToken}}"}
            ],
            "url": "{{baseUrl}}/admin/pricing",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vehicleType\": \"sedan\",\n  \"basePrice\": 50,\n  \"perKmRate\": 5,\n  \"minimumFare\": 50,\n  \"serviceFeePercentage\": 10,\n  \"driverCommissionPercentage\": 80\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Utils",
      "item": [
        {
          "name": "Geocode Address",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/utils/geocode",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"address\": \"The Pearl, Doha, Qatar\"\n}"
            }
          }
        },
        {
          "name": "Calculate Distance",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/utils/calculate-distance",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"origin\": {\n    \"latitude\": 25.2854,\n    \"longitude\": 51.5310\n  },\n  \"destination\": {\n    \"latitude\": 25.3548,\n    \"longitude\": 51.1839\n  }\n}"
            }
          }
        },
        {
          "name": "Calculate Price",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{baseUrl}}/utils/calculate-price",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"vehicleType\": \"sedan\",\n  \"distance\": 15.5\n}"
            }
          }
        },
        {
          "name": "Get Vehicle Types",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/utils/vehicle-types"
          }
        }
      ]
    },
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "url": "http://localhost:5000/health"
      }
    }
  ]
}
